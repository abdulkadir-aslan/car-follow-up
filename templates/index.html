{% extends 'base.html' %}

{% load static %}
{% load tag_library %}

{% block content %}

<div class="container-xxl flex-grow-1 container-p-y">
  <div class="col-lg-12 col-md-12 order-1">
    <div class="row">
      <div class="col-lg-3 col-md-12 col-3 mb-4">
        <div class="card">
          <div class="card-body">
            <div class="card-title d-flex align-items-start justify-content-between">
              <div class="avatar flex-shrink-0">
                <img src="{% static './assets/img/icons/unicons/paypal.png' %}" alt="chart success" class="rounded">
              </div>
            </div>
            <span class="fw-semibold d-block mb-1">Bugün Alınan Yakıt</span>
            <h3 class="card-title mb-2">{{today}}L</h3>
            {% if today > yesterday %}
            <small class="text-success fw-semibold"><i class="bx bx-up-arrow-alt"></i> +{% subtract today yesterday %}</small>
            {% else %}
            <small class="text-danger fw-semibold"><i class="bx bx-down-arrow-alt"></i> {% subtract today yesterday %}</small>            
            {% endif %}
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-12 col-3 mb-4">
        <div class="card">
          <div class="card-body">
            <div class="card-title d-flex align-items-start justify-content-between">
              <div class="avatar flex-shrink-0">
                <img src="{% static './assets/img/icons/unicons/paypal.png' %}" alt="chart success" class="rounded">
              </div>
            </div>
            <span class="fw-semibold d-block mb-1">Dün Alınan Yakıt</span>
            <h3 class="card-title mb-2">{{yesterday|floatformat:"g"}}L</h3>
            <br>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-12 col-3 mb-4">
        <div class="card">
          <div class="card-body">
            <div class="card-title d-flex align-items-start justify-content-between">
              <div class="avatar flex-shrink-0">
                <img src="{% static './assets/img/icons/unicons/paypal.png' %}" alt="chart success" class="rounded">
              </div>
            </div>
            <span class="fw-semibold d-block mb-1">Bu Ay Alınan Yakıt</span>
            <h3 class="card-title mb-2">{{month|floatformat:"g"}}L</h3>
            <br>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-12 col-3 mb-4">
        <div class="card">
          <div class="card-body">
            <div class="card-title d-flex align-items-start justify-content-between">
              <div class="avatar flex-shrink-0">
                <img src="{% static './assets/img/icons/unicons/paypal.png' %}" alt="chart success" class="rounded">
              </div>
            </div>
            <span class="fw-semibold d-block mb-1">Bu Yıl Alınan Yakıt</span>
            <h3 class="card-title mb-2">{{year|floatformat:"g"}}L</h3>
            <br>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" >
      <canvas id="myChart" width="600" height="200"></canvas>
      <script>
        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'bar',// 'bar','line','polarArea'
            data: {
                labels: ['MERKEZ','AKÇAKALE', 'BİRECİK', 'BOZOVA', 'CEYLANPINAR', 'HALFETİ', 'HARRAN','HİLVAN'
              ,'SİVEREK','SURUÇ','VİRANŞEHİR'],
                datasets: [{
                    label: 'Günlük Yakıt Grafiği LT.',
                    data: {{default}},
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)',
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)',
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                  yAxes: [{
              scaleLabel: {
                display: true,
                labelString: 'Litre'
              }
            }]
                }
            }
        });
      </script>
    </div> 
  </div>

{% endblock content %}